(window.webpackJsonp=window.webpackJsonp||[]).push([[326],{686:function(t,a,r){"use strict";r.r(a);var s=r(42),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"clonearraybuffer"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#clonearraybuffer"}},[t._v("#")]),t._v(" cloneArrayBuffer")]),t._v(" "),r("h2",{attrs:{id:"description"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#description"}},[t._v("#")]),t._v(" Description")]),t._v(" "),r("p",[t._v("克隆 "),r("code",[t._v("ArrayBuffer")])]),t._v(" "),r("p",[r("code",[t._v("ArrayBuffer")]),t._v(" 对象用来表示通用的、固定长度的原始二进制数据缓冲区。")]),t._v(" "),r("p",[t._v("它是一个字节数组，通常在其他语言中称为 “byte array”。")]),t._v(" "),r("h2",{attrs:{id:"params"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#params"}},[t._v("#")]),t._v(" Params")]),t._v(" "),r("p",[r("code",[t._v("arrayBuffer")])]),t._v(" "),r("h2",{attrs:{id:"return"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#return"}},[t._v("#")]),t._v(" Return")]),t._v(" "),r("p",[r("code",[t._v("arrayBuffer")])]),t._v(" "),r("h2",{attrs:{id:"code"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#code"}},[t._v("#")]),t._v(" Code")]),t._v(" "),r("div",{staticClass:"language-js extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("cloneArrayBuffer")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("arrayBuffer")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("arrayBuffer"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arrayBuffer"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("byteLength"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Uint8Array")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Uint8Array")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arrayBuffer"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),r("h2",{attrs:{id:"analyze"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#analyze"}},[t._v("#")]),t._v(" Analyze")]),t._v(" "),r("ol",[r("li",[r("p",[t._v("ArrayBuffer.prototype.constructor")]),t._v(" "),r("p",[t._v("指定函数，它创建一个对象的原型。其初始值是标准 ArrayBuffer 内置构造函数。")]),t._v(" "),r("p",[t._v("ArrayBuffer.prototype.byteLength")]),t._v(" "),r("p",[t._v("只读属性，表示 ArrayBuffer 的 byte 的大小，在 ArrayBuffer 构造完成时生成，不可改变。")])]),t._v(" "),r("li",[r("p",[t._v("通过 arrayBuffer 的构造函数，创建一个 同等 byte 大小的 arrayBuffer")])]),t._v(" "),r("li",[r("p",[t._v("Uint8Array 数组类型表示一个 8 位无符号整型数组，创建时内容被初始化为 0。创建完后，可以以对象的方式或使用数组下标索引的方式引用数组中的元素。")])])]),t._v(" "),r("p",[t._v("buffer, byteOffset, length")]),t._v(" "),r("p",[t._v("当传入一个 buffer 参数，或者再另外加上可选参数 byteOffset 和 length 时，一个新的类型化数组视图将会被创建，并可用于呈现传入的 ArrayBuffer 实例。byteOffset 和 length 参数指定了类型化数组视图将要暴露的内存范围。如果两者都未传入，那么整个 buffer 都会被呈现；如果仅仅忽略 length，那么 buffer 中偏移了 byteOffset 后剩下的 buffer 将会被呈现。\n4. TypedArray.prototype.set() 方法用于从指定数组中读取值，并将其存储在类型化数组中\n5. 也就是最后会通过Uint8Array 创建一个 基于 result 的 ArrayBuffer 实例， 然后哦通过set将 arrayBuffer 的值存储到 result 中并返回")]),t._v(" "),r("h3",{attrs:{id:"关于-arraybuffer-还有-typedarray-可查看-arraybuffer-二进制数组"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#关于-arraybuffer-还有-typedarray-可查看-arraybuffer-二进制数组"}},[t._v("#")]),t._v(" "),r("strong",[t._v("关于 arrayBuffer 还有 TypedArray 可查看 "),r("a",{attrs:{href:"https://zh.javascript.info/arraybuffer-binary-arrays",target:"_blank",rel:"noopener noreferrer"}},[t._v("ArrayBuffer，二进制数组"),r("OutboundLink")],1)])]),t._v(" "),r("h4",{attrs:{id:"arraybuffer-是核心对象-是对固定长度的连续内存区域的引用。"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#arraybuffer-是核心对象-是对固定长度的连续内存区域的引用。"}},[t._v("#")]),t._v(" ArrayBuffer 是核心对象，是对固定长度的连续内存区域的引用。")]),t._v(" "),r("h4",{attrs:{id:"几乎任何对-arraybuffer-的操作-都需要一个视图。"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#几乎任何对-arraybuffer-的操作-都需要一个视图。"}},[t._v("#")]),t._v(" 几乎任何对 ArrayBuffer 的操作，都需要一个视图。")]),t._v(" "),r("ul",[r("li",[t._v("它可以是 TypedArray：\n"),r("ul",[r("li",[t._v("Uint8Array，Uint16Array，Uint32Array —— 用于 8 位、16 位和 32 位无符号整数。")]),t._v(" "),r("li",[t._v("Uint8ClampedArray —— 用于 8 位整数，在赋值时便 “固定” 其值。")]),t._v(" "),r("li",[t._v("Int8Array，Int16Array，Int32Array —— 用于有符号整数（可以为负数）。")]),t._v(" "),r("li",[t._v("Float32Array，Float64Array —— 用于 32 位和 64 位的有符号浮点数。")]),t._v(" "),r("li",[t._v("或 DataView —— 使用方法来指定格式的视图，例如，getUint8(offset)。")])])])]),t._v(" "),r("p",[t._v("在大多数情况下，我们直接对类型化数组进行创建和操作，而将 ArrayBuffer 作为 “通用标识符（common discriminator）” 隐藏起来。我们可以通过 .buffer 来访问它，并在需要时创建另一个视图。")]),t._v(" "),r("h2",{attrs:{id:"remark"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#remark"}},[t._v("#")]),t._v(" Remark")]),t._v(" "),r("ol",[r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",target:"_blank",rel:"noopener noreferrer"}},[t._v("ArrayBuffer MDN"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypedArray",target:"_blank",rel:"noopener noreferrer"}},[t._v("TypedArray MDN"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",target:"_blank",rel:"noopener noreferrer"}},[t._v("Uint8Array MDN"),r("OutboundLink")],1)])]),t._v(" "),r("h2",{attrs:{id:"example"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[t._v("#")]),t._v(" Example")]),t._v(" "),r("div",{staticClass:"language-js extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" a "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Uint8Array")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("buffer\n\nconsole"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ArrayBuffer { [Uint8Contents]: <01 02 03 04>, byteLength: 4 }")]),t._v("\n\nconsole"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("byteLength"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4")]),t._v("\n\nconsole"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Uint8Array")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("byteLength"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Uint8Array(4) [ 0, 0, 0, 0 ]")]),t._v("\n\nconsole"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Uint8Array")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Uint8Array(4) [ 1, 2, 3, 4 ]")]),t._v("\n\n\nconsole"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("cloneArrayBuffer")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ArrayBuffer { [Uint8Contents]: <01 02 03 04>, byteLength: 4 }")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);